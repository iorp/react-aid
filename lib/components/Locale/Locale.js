"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_rollupPluginBabelHelpers-5072e08f.js"),r=require("react"),t=require("../../contexts/LocaleContext.js"),a=require("../../deepMerge-7b551933.js"),l=require("../../hooks/useLocalStorage.js");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../_commonjsHelpers-b3309d7b.js"),require("../../deepMerge-a41a3e4f.js");var u=o(r),s=function(o){var s=e._extends({},(e._objectDestructuringEmpty(o),o)),n=s.children,c=l.default({encoded:!1}),i=c.setLocalStorage,d=c.getLocalStorage,p=r.useState((function(){return a.deepMerge({available:["en"],default:"en"},s.options||{},{mergeArrays:!1})})),f=e._slicedToArray(p,2),g=f[0],v=f[1],b=navigator.language||navigator.userLanguage;"string"==typeof b&&(b=b.substring(0,2)),g.available.includes(b)||(b=null);var _=d(process.env.REACT_APP_BASENAME+"locale"),j=r.useState({current:_&&_.current||b||g.default,available:g.available,strings:{},rules:g.rules}),A=e._slicedToArray(j,2),E=A[0],S=A[1];return r.useEffect((function(){E&&i(process.env.REACT_APP_BASENAME+"locale",e._objectSpread2(e._objectSpread2({},_),{},{current:E.current}))}),[E]),u.default.createElement(t.default.Provider,{value:{locale:E,setLocale:S,options:g,setOptions:v}},n)};exports.Locale=s,exports.default=s;
