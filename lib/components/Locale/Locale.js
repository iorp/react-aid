"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("../../_rollupPluginBabelHelpers-5072e08f.js"),r=require("react"),t=require("../../contexts/LocaleContext.js"),a=require("../../deepMerge-7b551933.js"),o=require("../../hooks/useLocalStorage.js");function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}require("../../_commonjsHelpers-b3309d7b.js"),require("../../deepMerge-a41a3e4f.js");var s=l(r),u=function(l){var u=e._extends({},(e._objectDestructuringEmpty(l),l)),n=u.children,c=o.default({encoded:!1}),i=c.setLocalStorage,d=c.getLocalStorage,g=r.useState((function(){return a.deepMerge({available:["en"],default:"en"},u.options||{},{mergeArrays:!1})})),p=e._slicedToArray(g,2),f=p[0],v=p[1],b=navigator.language||navigator.userLanguage;"string"==typeof b&&(b=b.substring(0,2)),f.available.includes(b)||(b=null),console.log(333,b);var _=d(process.env.REACT_APP_BASENAME+"locale"),j=r.useState({current:_&&_.current||b||f.default,available:f.available,strings:{},rules:f.rules}),A=e._slicedToArray(j,2),E=A[0],S=A[1];return r.useEffect((function(){E&&i(process.env.REACT_APP_BASENAME+"locale",e._objectSpread2(e._objectSpread2({},_),{},{current:E.current}))}),[E]),s.default.createElement(t.default.Provider,{value:{locale:E,setLocale:S,options:f,setOptions:v}},n)};exports.Locale=u,exports.default=u;
